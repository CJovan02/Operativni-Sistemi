
1. Razmotriti sistem sa diskom sa 16 sektora po stazi i 512B po sektoru. Disk se rotira brzinom od 7200rpm i ima prosecno vreme trazenja(seek time) od 10ms. Posmatrati datoteku koja ima 8 blokova pri cemu 1 blok zauzima 2 sektora i izracunati ukupno vreme neophodno za citanje datoteke ako se koriste metode alokacije: 
*Kontinualna* (***Isto kao kad se kaze da su blokovi smesteni sekvencijalno***)
Kod kontinualne dodele samo jednom racunamo vreme pozicioniranja, preostale staze, ukliko ih ima, se citaju bez ikakvog vremena pozicioniranja jer je glava vedc tu gde treba. (***nije mi jasno zasto se ne racuna kad glava svejedno mora da se pomeri na drugu stazu***) 

[[Racunanje Vreme pristupa i transfera]]

16 sektora po stazi.
1 sektor = 512B
r = 7200rpm / 60 = 120rps
Ts = 10ms
Ta = ?

Ta = Ts + 1/(2r) + b/(rN)

Datoteka ima 8 blokova gde 1 blok zauzima 2 sektora, znaci,
8blokova = 16 sektora zauzima datoteka (tacno jedna staza)
16 * 512B = 8192B

Ta = 10ms + 4.2ms + (16 * 512B) / (120 * 16 * 512B)
Ta = 10ms + 4.2ms + 8.3 ms (dobija se u sekundama prvo jer se radi o rps - broj obrataj u sekundi)
Ta = 22.5ms

*Indeksiranje*
Mi celu traku pročitamo za 8.3ms, onda jedan sektor procitamo za:
8.3 / 16 = 0.52ms
Ta = (10 + 4.2 + 0.5) * 16

b/(rN) je vreme transfera, kod indeksiranja blokovi su rastrkani po disku i mi u sustini citamo jedan sektor pa drugi i tako dalje, odnosno delimo ukupno vreme citanja cele staze sa brojem sektora koliko staza ima i dobijemo vreme pristupa jednom segmentu, onda to sve pomnozimo sa brojem segmenta koje moramo da procitamo jer se glava stalno pomera.

2. Brzina okretanja diska je 6000 RPM. Vreme trazenja je 10ms, a velicina disk sektora je 512B, staza ima 1024 sektora. Za koliko se vreme procita sadrzaj datoteke od 512KB ako su blokovi datoteke, velicine 1KB smesteni: a) sekvencijalno, b) u 16 nezavisnih grupa od po 32 bloka (NTFS), c) ako se koristi indeksiranje (Linux)?

3. Brzina okretanja diska je 7200 RPM. Vreme trazenja je 5ms, a valicina disk sektora je 512B, staza ima 1024 sektora. Za koliko vreme se procita sadrzaj datoteke od 512 KB ako su blokovi datoteke, velicine 4KB smesteni a) sekvencijalno, b) u 16 nezavisnih grupa od po 8 bloka (NTFS), c) ako se koristi indeksiranje (Linux)?

4. Ako Unix file sistem ima blokove velicine **2KB** i disk adrese od **4B** koliko pristupa disku je potrebno za citanje 10-og, a koliko 600-tog bloka datoteke ukoliko je i-cvor u glavnoj memoriji. [[Inode]]

Single indirect je blok koji sadrzi pokazivace na blokove podataka. Posto je blok velicine *2KB* a jedna adresa bloka je *4B* onda 2KB/4B = 512 koji pokazuje koliko blokova mozemo da adresiramo jednim blokom pokazivaca (***Tako sam ja razumeo ovo, nisam 100% siguran da je tacno razmisljanje***).


| Level           | Broj blokova                                            | Broj Bajtova              |
| --------------- | ------------------------------------------------------- | ------------------------- |
| Direktno        | 12 (uvek je 12 osim ako se ne kaze drugacije u zadatku) | 24K                       |
| Single indirect | 512 = 2^9                                               | 512 * 2K = 1024K = 1M     |
| Double indirect | 512 * 512 = 2^18 = 256K                                 | 2^18 * 2^11 = 2^29 = 512M |
| Triple indirect | 256K * 512 = 2^27 = 128M                                | 2^27 * 2^11 = 2^38 = 256G |
10ti blok => moze direktno znaci *jedan pristup*
600ti blok => moze kroz dvostruki indirektni blok znaci *3 pristupa -> prvi pristup za prvi pokazivac, drugi pristup za drugi pokazivac i treci pristup za blok*

5. Sta je i-cvor (i - node) i Unix/Linux file sistemu i gde se nalazi pre i nakon otvaranja datoteke? Ako Linux file sistem ima **blokove velicine 1KB** i **disk adrese od 8B** koliko pristupa disku je potrebno za modifikaciju **10-og i 200-tog bloka datoteke koja nije otvorena**?
Inode je kontrolan struktura koja cuva osnovne informacije potrebno operativnom sistemu da bi upravljao nekim fajlom. Jedan aktivan inode je uvek vezan samo za jedan fajl i sluzi da OS moze da kontrolise jedan fajl.
Inode tabela (inode za svaki fajl u sistemu) se cuva na disku, kada se neki fajl otvori njegov inode se prebaci u inode tabelu koja se nalazi u glavnoj memoriji.

1KB / 8B = 1024 / 8 = **128 = 2^7** => broj blokova koje moze da adresira jedan blok pokazivaca.

| Level           | Broj Blokova | Broj Bajtova |
| --------------- | ------------ | ------------ |
| Direktno        | 12           | 12K          |
| Single Indirect | 128          | 128K         |
| Double Indirect | 2^14 = 16K   | 16M          |
| Triple Indirect | 2^21 = 2M    | 2G           |
***Posto se kaze da datoteka nije otvorena znaci da se nalazi na disku i da nam je potroban jedan dodatan pristup memoriji kako bi njen inode prebacili u glavnu memoriju.***

10ti blok => moze direktno znaci *2 pristupa => 1 za prebacaj inode u glavnu memoriju i jedan za pronalazenje tog bloka*
200ti blok => moz kroz dvostruki indirektni blok znaci *3 pristupa za blok plus 1 za prebacivanje u glavnu memoriju, znaci 4 ukupno*

b) Blokovi su velicine **2KB i disk adrese od 8B**. koliko pristupa disku je potrebno za modifikaciju **9-og i 300-tog** bloka datoteke koja **nije otvorena**?

2KB / 8B = 2^11 / 2^3 = **2^8 = 256**

| Level           | Broj Blokova            | Broj Bajtova |
| --------------- | ----------------------- | ------------ |
| Direktno        | 12                      | 24K          |
| Single Indirect | 256                     | 2^19 = 512K  |
| Double Indirect | 2^8 * 2^8 = 2^16 = 64K  | 2^27 = 128M  |
| Triple Indirect | 2^16 * 2^8 = 2^24 = 16M | 2^35 = 32G   |

9ti blok => direktno, *2 pristupa*
300ti blok => dvostruki indirektni blok, *4 pristupa*